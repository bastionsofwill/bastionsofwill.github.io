---
title: cookie-and-session
tags:
- web
---
## 쿠키(Cookie)
HTTP는 무상태(stateless) 프로토콜이다. 하지만 대화형 인터페이스 등의 클라이언트와의 상호작용을 위해서는 서버가 클라이언트(사용자)의 상태(state)를 알 수 있어야 한다.
쿠키는 서버가 클라이언트를 식별하고 클라이언트의 상태를 저장하기 위해 클라이언트의 브라우저에 일정 시간동안 저장되는 서버에서 사용되는 *클라이언트에 대한 정보를 저장한 파일*로, HTTP를 사용하여 상태 정보가 필요한 기능을 제공하기 위해 사용된다.

쿠키는 클라이언트의 요청에 따라 서버가 발행하여 클라이언트에게 전달되고, 클라이언트의 브라우저에 저장된다. 
하지만 쿠키를 관리/사용하는 주체는 클라이언트이므로 클라이언트 쪽에서는 이를 얼마든지 위/변조하여 서버에게 전달할 수 있고, 따라서 서버 입장에서 쿠키 사용은 보안적 위험 요소로 작용할 수 있다. 
또 클라이언트 입장에서는 서비스 A, B의 쿠키가 브라우저에 저장되어 있을 때, B 서버가 브라우저에 저장된 서비스 A에 사용되는 쿠키를 수집하게 되면 B에게 사용자가 A를 위해 사용하는 정보가 탈취되는 것이므로 클라이언트 입장에도 이는 위협이다.

## 세션(Session)
사용자의 상태 정보를 처리하기 위해서는 크게 아래와 같은 두 가지 형태의 구현이 보편적이다.
- 쿠키 방식(쿠키 기반 세션): 쿠키에 모든 상태 정보를 저장하는 것
- 세션 방식: 쿠키에 고유한 식별자만 저장 후, 서버에 나머지 상태 정보를 저장하는 것
  
즉 *쿠키 방식*과 *세션 방식*이라고 흔히들 말하는 것에 반해, 엄밀히 따지자면 쿠키와 세션은 대립되는 선택지가 아니다. 세션 방식에서도 쿠키를 사용하기 때문이다.

### 출처