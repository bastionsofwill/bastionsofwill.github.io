---
title: CNTDA-01. 컴퓨터 네트워크와 인터넷
tags:
    - book
    - CNTDA
    - fundamental
---
## 구성요소로 본 인터넷
- 인터넷은 여러 개의 컴퓨팅 장치를 연결하는 컴퓨터 네트워크
- 이러한 컴퓨팅 장치는 인터넷 용어로 호스트 또는 종단 시스템(end system)으로 칭함
- 종단 시스템은 통신 링크(communication link)와 패킷 스위치의 네트워크로 연결
- 링크는 동축케이블, 구리선, 광케이블, 라디오 스펙트럼 등 다양한 물리 매체(physical media)로 구성
- packet = segment + header
- 패킷 스위치는 입력 통신 링크 중 하나로 도착하는 패킷을 받아 출력 통신 링크 중 하나로 패킷을 전달
- 가장 널리 사용되는 패킷 스위치는 라우터와 링크-레이어 스위치로, 최종 목적지 방향으로 패킷을 전달하는 역할을 수행
- 링크-레이어 스위치는 주로 액세스 네트워크에서, 라우터는 네트워크 코어에서 사용
- 네트워크 경로(path): 패킷이 송신 종단 시스템에서 수신 종단 시스템에 도달하는 동안 거친 통신 링크와 패킷 스위치들의 목록
- ISP는 종단 시스템에 다양한 형태의 네트워크 접속을 제공하며, ISP 간 연결도 필요
- 하위 계층 ISP는 국제 상위 계층 ISP를 통해 서로 연결
- 상위 계층 ISP는 광 링크로 연결된 고속 라우터로 구성
- 종단 시스템, 패킷 스위치, 기타 인터넷 구성 요소는 TCP/IP 등 여러 정보 송수신 제어 프로토콜을 수행
- IP는 라우터 - 종단 시스템 간 송/수신되는 패킷의 포맷을 기술

## 서비스 측면에서 본 인터넷
- 애플리케이션에 서비스를 제공하는 인프라 구조로서의 인터넷
- 분산 애플리케이션(distributed application): 서로 데이터를 교환하는 많은 종단 시스템을 포함하는 애플리케이션. 전자메일, 웹 서핑, 소셜 네트워크, 인스턴트 메시징, VoIP(Voice-over-IP), 비디오 스트리밍, 온라인 게임, P2P 파일 공유, 인터넷 TV, 원격 로그인 등
- 인터넷 애플리케이션은 종단 시스템에서 수행되며, 패킷 교환기에서는 실행되지 않음
- 패킷 교환기들은 시스템 간 데이터 교환을 수행하지만 데이터의 원천이자 목적지인 애플리케이션과는 독립적
- 인터넷에 접속된 종단 시스템(출발지)은 인터넷 인프라 구조에게 다른 종단 시스템(목적지)에서 수행되는 프로그램에 데이터를 어떻게 전달하도록 요구하는지 명시하는 API(Application Programing Interface)를 제공
- API는 송신 프로그램이 따라야 하는 규칙의 집합이며, 인터넷은 이 규칙에 따라 데이터를 목적지로 전달

## 프로토콜이란?
- 프로토콜은 둘 이상의 통신 개체 간 교환되는 메시지 포맷과 순서 뿐만 아니라 메시지 송수신과 다른 이벤트에 대한 행동을 정의
- 네트워크 전문성: 네트워킹 프로토콜이 무엇이고 왜 필요하며 어떻게 운영되는지 이해하는 것

## 네트워크 엣지
- 종단 시스템은 브라우저 프로그램, 서버 프로그램, 이메일 클라이언트 프로그램, 이메일 서버 프로그램 같은 애플리케이션을 수행
- 호스트라고도 부르며, 여기서는 호스트와 종단 시스템을 혼용한다
- 호스트는 때때로 클라이언트와 서버로 구분

## 액세스 네트워크
- 액세스 네트워크: 종단 시스템 간 경로 중 출발지와 첫 번째 라우터를 연결하는 네트워크
### DSL
- DSL 방식은 전화회사 인프라를 사용
- DSL 모뎀이 전화회사 지역 중앙국에 있는 DSLAM(DSL Access Multiplexer)과 데이터를 교환
- DSL 모뎀은 디지털 데이터를 고주파 신호로 변환하여 전화선을 통해 전달
- DSLAM은 아날로그 신호를 다시 디지털 포맷으로 변환
- 한 전화 회선(DSL 링크)으로 주파수 대역을 업스트림 채널, 다운스트림 채널, 전화 채널로 분리하여 기존에 사용하던 전화 신호와 데이터를 동시에 전달 가능
### 케이블
- 케이블 방식은 케이블 TV 회사의 케이블 TV 인프라 사용
- 각 가정과 연결된 동축케이블은 광노드(fiber optic node)에 모이며, 광노드와 케이블 헤드엔드(head-end)는 광케이블로 연결
- 케이블 모뎀은 DSL 모뎀과 유사하게 채널을 다운스트림/업스트림 채널로 나누고 아날로그 신호를 전달
- 케이블 헤드엔드의 CMTS(Cable Modem Termination System)는 DSLAM과 유사하게 아날로그 신호를 디지털 포맷으로 변환
- 케이블 인터넷은 공유 방송 매체
- 헤드엔드가 전송한 모든 패킷은 모든 링크의 다운스트림 채널을 통해 모든 가정에 전달
- 여러 사용자가 각각 다른 파일을 수신할 경우, 각각의 실제 수신률은 다운스트림 전송률보다 떨어짐
- 업스트림 채널 역시 공유되며, 분산 다중 접속 프로토콜을 통해 전송 조정 및 충돌 회피
- 이외에도 광섬유만을 사용한 FTTH(Fiber To The Home) 존재
### 이더넷, WiFi
- LAN(Local Area Network)은 일반적으로 액세스 네트워크(종단 시스템 - 엣지 라우터 간 네트워크)를 구성하는데 사용
- 여러 LAN 기술 중 이더넷이 가장 대표적
- 이더넷은 각 종단 시스템을 이더넷 스위치 또는 상호 연결된 스위치와 유선 연결하며, 이를 다시 인터넷에 연결
- WiFi: 무선 LAN 환경에서 종단 시스템은 유선 네트워크와 연결되어 있는 AP(Access Point)와 무선으로 패킷을 송/수신
### 3G, LTE
- 이동통신망 사업자 기지국을 통해 패킷을 송/수신하는 것과 같은 무선 인프라
- WiFi(수십 미터 반경)보다 넓은 반경 지원(수십 km)
- 3G 서비스: 1Mbps 이상의 속도로 패킷 교환 광역 무선 인터넷 접속
- 4G: 10Mbps 이상의 전송 속도 가능

## 네트워크 코어
### 패킷 교환(packet switching)
- 네트워크 애플리케이션에서 종단 시스템들은 서로 메시지를 교환하며 동작
- 메시지는 제어 기능 또는 데이터를 포함
- 메시지는 패킷으로 분할되어 통신 링크와 패킷 스위치(라우터, 링크-레이어 스위치)를 거쳐 전달
- 패킷 스위치는 대부분 저장 후 전달 전송(store-and-forword transmission) 방식
- 저장 후 전달: 전체 패킷을 받고 나서야 출력 링크로 패킷 전송을 시작
- R bps의 전송속도를 가지는 링크를 통해 크기가 L인 패킷을 모두 받는 데에는 L/R초가 소요
- 따라서 저장 후 전달 방식에서는 패킷을 저장하는데 L/R초, 패킷을 전달하는데 L/R초를 소모하여 하나의 패킷이 출발지에서 패킷 스위치를 거쳐서 목적지에 도착하기까지는 2L/R초의 지연이 발생한다.
- 링크가 2개인 경로에서 P개의 패킷 전달: (P + 1)/R 시간 이후 모든 패킷 수신
- 링크가 N개인 경로에서 1개의 패킷 전달: N*L/R 시간 이후 모든 패킷 수신
- 링크가 N개인 경로에서 P개의 패킷 전달:
- 패킷 스위치는 여러 개의 링크에 연결되어 있으며, 각 링크마다 출력 버퍼(출력 큐)가 존재
- 도착하는 패킷이 전달되어야 하는 링크가 다른 패킷을 전송하고 있다면 출력 버퍼에서 대기 필요 - 큐잉 지연(queing delay) 발생
- 큐잉 지연은 가변적이며 네트워크 혼잡도를 따름
- 큐의 크기는 유한하므로 큐가 패킷으로 가득 차 있다면 도착하는 패킷이나 큐에 대기중인 패킷을 폐기하는 패킷 손실 발생
### 전달 테이블, 라우팅 프로토콜
- 라우팅: 라우터가 통신 링크로 받은 패킷을 다른 통신 링크로 전송하는 것
- 소스(출발지)는 패킷 헤더에 목적지 종단 시스템의 IP 주소를 포함
- 각 라우터는 목적지 주소의 일부를 조사하고 출력 링크에 매핑하는 전달 테이블(forwarding table)을 가짐
- 인터넷은 자동으로 전달 테이블을 생성하기 위한 라우팅 프로토콜을 사용함
### 회선 교환(circuit switching)
- 회선 교환 네트워크에서 경로 상의 자원(버퍼, 링크 전송률)은 세션동안 예약(선점)됨
- 정보를 보내기 전에 송/수신자 간 연결을 설정하고 유지
- 큐잉 지연은 발생하지 않으며, 일정한 전송속도(링크 전송 속도 / 링크 당 회선 개수)를 보장
- 링크 내 회선은 주파수 분할 다중화(Frequency-Division Multiflexing, FDM) 또는 시분할 다중화(Time-Division Multiflexing, TDM)으로 구현
- FDM은 각 연결에 대해 주파수 대역(대역폭Bandwidth)을 고정 제공
- TDM은 시간을 주기적인 프레임으로 구분 후 각 프레임 안에 연결을 할당
## 네트워크들의 네트워크
- 종단 시스템과 액세스 ISP 간 연결은 인터넷의 극히 일부분
- ISP 간 연결이 필수적
- ISP 역시 계층을 갖는 구조가 현대 인터넷과 유사하며, 소규모 ISP가 더 큰 규모의 ISP, 다시 글로벌 ISP의 네트워크와 연결되는 형태
- PoP(Points of Presence): 액세스(최하위) ISP 이외의 ISP 내부의 라우터 또는 라우터 그룹이며, 이를 통해 고객(하위) ISP가 PoP가 존재하는 ISP에 연결
- 고객 ISP는 자신의 라우터를 상위 ISP에 PoP 라우터에 고속으로 연결할 수 있는 링크를 구성할 수 있음
- 멀티 호밍(Multi-Homing): 2개 이상의 상위 ISP에 연결
- 피어링(Peering): 하위 ISP간 트래픽이 상위 ISP를 거치지 않도록 하위 ISP간 연결로 비용을 지불하지 않는 것
- IXP(Internet Exchange Point): 다중의 ISP가 피어링할 수 있는 지점
- Contents Provider Network: CDN과는 다른 개념으로, 사설 TCP/IP 연결을 통해 연결되고 ISP들과 피어링함으로서 1계층 ISP와의 연결을 줄이는 네트워크(예: 구글)

## 패킷 교환 네트워크에서의 지연, 손실과 처리율

### 출처